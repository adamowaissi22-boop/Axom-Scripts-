local Atunid = {
    cache = {},
    load = function(b)
        if not Atunid.cache[b] then
            Atunid.cache[b] = {c = Atunid[b]()}
        end
        return Atunid.cache[b].c
    end
}

do
    function Atunid.ThemeMap()
        return {
            White = Color3.new(1,1,1),
            Black = Color3.new(0,0,0),
            Dialog = "Accent",
            Background = "Accent",
            BackgroundTransparency = 0,
            Hover = "Text",
            WindowBackground = "Background",
            WindowShadow = "Black",
            WindowTopbarTitle = "Text",
            WindowTopbarAuthor = "Text",
            WindowTopbarIcon = "Icon",
            WindowTopbarButtonIcon = "Icon",
            TabBackground = "Hover",
            TabTitle = "Text",
            TabIcon = "Icon",
            ElementBackground = "Text",
            ElementTitle = "Text",
            ElementDesc = "Text",
            ElementIcon = "Icon",
            PopupBackground = "Background",
            PopupBackgroundTransparency = "BackgroundTransparency",
            PopupTitle = "Text",
            PopupContent = "Text",
            PopupIcon = "Icon",
            DialogBackground = "Background",
            DialogBackgroundTransparency = "BackgroundTransparency",
            DialogTitle = "Text",
            DialogContent = "Text",
            DialogIcon = "Icon",
            Toggle = "Button",
            Checkbox = "Button",
            CheckboxIcon = "White",
        }
    end

    function Atunid.Core()
        local RunService = game:GetService("RunService")
        local Heartbeat = RunService.Heartbeat
        local UserInputService = game:GetService("UserInputService")
        local TweenService = game:GetService("TweenService")
        local LocalizationService = game:GetService("LocalizationService")
        local HttpService = game:GetService("HttpService")
        
        local IconsURL = "https://raw.githubusercontent.com/Footagesus/Icons/main/Main-v2.lua"
        local IconsModule = loadstring(game.HttpGetAsync and game:HttpGetAsync(IconsURL) or HttpService:GetAsync(IconsURL))()
        IconsModule.SetIconsType("lucide")
        
        local LibraryInstance
        local Shared = {
            Font = "rbxassetid://12187365364",
            Localization = nil,
            CanDraggable = true,
            Theme = nil,
            Themes = nil,
            Icons = IconsModule,
            Signals = {},
            Objects = {},
            LocalizationObjects = {},
            FontObjects = {},
            Language = string.match(LocalizationService.SystemLocaleId, "^[a-z]+"),
            Request = http_request or (syn and syn.request) or request,
            DefaultProperties = {
                ScreenGui = {ResetOnSpawn = false, ZIndexBehavior = "Sibling"},
                CanvasGroup = {BorderSizePixel = 0, BackgroundColor3 = Color3.new(1,1,1)},
                Frame = {BorderSizePixel = 0, BackgroundColor3 = Color3.new(1,1,1)},
                TextLabel = {BackgroundColor3 = Color3.new(1,1,1), BorderSizePixel = 0, Text = "", RichText = true, TextColor3 = Color3.new(1,1,1), TextSize = 14},
                TextButton = {BackgroundColor3 = Color3.new(1,1,1), BorderSizePixel = 0, Text = "", AutoButtonColor = false, TextColor3 = Color3.new(1,1,1), TextSize = 14},
                TextBox = {BackgroundColor3 = Color3.new(1,1,1), BorderColor3 = Color3.new(0,0,0), ClearTextOnFocus = false, Text = "", TextColor3 = Color3.new(0,0,0), TextSize = 14},
                ImageLabel = {BackgroundTransparency = 1, BackgroundColor3 = Color3.new(1,1,1), BorderSizePixel = 0},
                ImageButton = {BackgroundColor3 = Color3.new(1,1,1), BorderSizePixel = 0, AutoButtonColor = false},
                UIListLayout = {SortOrder = "LayoutOrder"},
                ScrollingFrame = {ScrollBarImageTransparency = 1, BorderSizePixel = 0},
                VideoFrame = {BorderSizePixel = 0}
            },
            Colors = {
                Primary = "#6A5ACD",
                Secondary = "#FF6B6B", 
                Dark = "#1A1A2E",
                Light = "#F8F9FA",
                Accent = "#4ECDC4"
            },
            ThemeFallbacks = Atunid.load('ThemeMap'),
            Shapes = {
                Rounded = "rbxassetid://82909646051652",
                ["Rounded-Outline"] = "rbxassetid://72946211851948",
                Pill = "rbxassetid://80999662900595",
                PillOutline = "rbxassetid://117788349049947",
                ["Pill-Outline"] = "rbxassetid://117817408534198",
                ["Shadow-sm"] = "rbxassetid://84825982946844",
                ["Pill-TL-TR"] = "rbxassetid://73569156276236",
                ["Pill-BL-BR"] = "rbxassetid://93853842912264",
                ["Pill-TL-TR-Outline"] = "rbxassetid://136702870075563",
                ["Pill-BL-BR-Outline"] = "rbxassetid://75035847706564",
            }
        }

        function Shared.Init(p)
            LibraryInstance = p
        end

        function Shared.AddSignal(p,r)
            local u = p:Connect(r)
            table.insert(Shared.Signals,u)
            return u
        end

        function Shared.DisconnectAll()
            for p,r in next,Shared.Signals do
                local u = table.remove(Shared.Signals,p)
                u:Disconnect()
            end
        end

        function Shared.SafeCallback(p,...)
            if not p then return end
            local r,u = pcall(p,...)
            if not r then
                if LibraryInstance and LibraryInstance.Window and LibraryInstance.Window.Debug then
                    warn("[ Atunid: DEBUG Mode ] "..u)
                    return LibraryInstance:Notify{Title="DEBUG Mode: Error", Content=u, Duration=8}
                end
            end
        end

        function Shared.Gradient(p,r)
            if LibraryInstance and LibraryInstance.Gradient then
                return LibraryInstance:Gradient(p,r)
            end
            local u = {}
            local v = {}
            for x,z in next,p do
                local A = tonumber(x)
                if A then
                    A = math.clamp(A/100,0,1)
                    table.insert(u,ColorSequenceKeypoint.new(A,z.Color))
                    table.insert(v,NumberSequenceKeypoint.new(A,z.Transparency or 0))
                end
            end
            table.sort(u,function(A,B)return A.Time<B.Time end)
            table.sort(v,function(A,B)return A.Time<B.Time end)
            if #u < 2 then error("ColorSequence requires at least 2 keypoints") end
            local A = {Color=ColorSequence.new(u), Transparency=NumberSequence.new(v)}
            if r then for B,C in pairs(r) do A[B]=C end end
            return A
        end

        function Shared.SetTheme(p)
            Shared.Theme = p
            Shared.UpdateTheme(nil,true)
        end

        function Shared.AddFontObject(p)
            table.insert(Shared.FontObjects,p)
            Shared.UpdateFont(Shared.Font)
        end

        function Shared.UpdateFont(p)
            Shared.Font = p
            for r,u in next,Shared.FontObjects do
                u.FontFace = Font.new(p,u.FontFace.Weight,u.FontFace.Style)
            end
        end

        function Shared.GetThemeProperty(p,r)
            local function getValue(u,v)
                local x = v[u]
                if x == nil then return nil end
                if typeof(x) == "string" and string.sub(x,1,1) == "#" then
                    return Color3.fromHex(x)
                end
                if typeof(x) == "Color3" then return x end
                if typeof(x) == "number" then return x end
                if typeof(x) == "table" and x.Color and x.Transparency then return x end
                if typeof(x) == "function" then return x() end
                return x
            end

            local u = getValue(p,r)
            if u ~= nil then
                if typeof(u) == "string" and string.sub(u,1,1) ~= "#" then
                    local v = Shared.GetThemeProperty(u,r)
                    if v ~= nil then return v end
                else return u end
            end

            local v = Shared.ThemeFallbacks[p]
            if v ~= nil then
                if typeof(v) == "string" and string.sub(v,1,1) ~= "#" then
                    return Shared.GetThemeProperty(v,r)
                else return getValue(p,{[p]=v}) end
            end

            u = getValue(p,Shared.Themes.Dark)
            if u ~= nil then
                if typeof(u) == "string" and string.sub(u,1,1) ~= "#" then
                    local x = Shared.GetThemeProperty(u,Shared.Themes.Dark)
                    if x ~= nil then return x end
                else return u end
            end

            if v ~= nil then
                if typeof(v) == "string" and string.sub(v,1,1) ~= "#" then
                    return Shared.GetThemeProperty(v,Shared.Themes.Dark)
                else return getValue(p,{[p]=v}) end
            end
            return nil
        end

        function Shared.AddThemeObject(p,r)
            Shared.Objects[p] = {Object=p,Properties=r}
            Shared.UpdateTheme(p,false)
            return p
        end

        function Shared.AddLangObject(p)
            local r = Shared.LocalizationObjects[p]
            local u = r.Object
            local v = currentObjTranslationId
            Shared.UpdateLang(u,v)
            return u
        end

        function Shared.UpdateTheme(p,r)
            local function ApplyTheme(u)
                for v,x in pairs(u.Properties or{})do
                    local z = Shared.GetThemeProperty(x,Shared.Theme)
                    if z ~= nil then
                        if typeof(z) == "Color3" then
                            local A = u.Object:FindFirstChild"AtunidGradient"
                            if A then A:Destroy() end
                            if not r then u.Object[v]=z else Shared.Tween(u.Object,0.08,{[v]=z}):Play() end
                        elseif typeof(z) == "table" and z.Color and z.Transparency then
                            u.Object[v] = Color3.new(1,1,1)
                            local A = u.Object:FindFirstChild"AtunidGradient"
                            if not A then A=Instance.new"UIGradient" A.Name="AtunidGradient" A.Parent=u.Object end
                            A.Color = z.Color
                            A.Transparency = z.Transparency
                            for B,C in pairs(z) do if B~="Color" and B~="Transparency" and A[B]~=nil then A[B]=C end end
                        elseif typeof(z) == "number" then
                            if not r then u.Object[v]=z else Shared.Tween(u.Object,0.08,{[v]=z}):Play() end
                        end
                    else
                        local A = u.Object:FindFirstChild"AtunidGradient"
                        if A then A:Destroy() end
                    end
                end
            end

            if p then
                local u = Shared.Objects[p]
                if u then ApplyTheme(u) end
            else for u,v in pairs(Shared.Objects) do ApplyTheme(v) end end
        end

        function Shared.SetLangForObject(p)
            if Shared.Localization and Shared.Localization.Enabled then
                local r = Shared.LocalizationObjects[p]
                if not r then return end
                local u = r.Object
                local v = r.TranslationId
                local x = Shared.Localization.Translations[Shared.Language]
                if x and x[v] then u.Text=x[v] else
                    local z = Shared.Localization and Shared.Localization.Translations and Shared.Localization.Translations.en or nil
                    if z and z[v] then u.Text=z[v] else u.Text="["..v.."]" end
                end
            end
        end

        function Shared.ChangeTranslationKey(p,r,u)
            if Shared.Localization and Shared.Localization.Enabled then
                local v = string.match(u,"^"..Shared.Localization.Prefix.."(.+)")
                if v then
                    for x,z in ipairs(Shared.LocalizationObjects) do
                        if z.Object == r then z.TranslationId=v Shared.SetLangForObject(x) return end
                    end
                    table.insert(Shared.LocalizationObjects,{TranslationId=v,Object=r})
                    Shared.SetLangForObject(#Shared.LocalizationObjects)
                end
            end
        end

        function Shared.UpdateLang(p)
            if p then Shared.Language = p end
            for r=1,#Shared.LocalizationObjects do
                local u = Shared.LocalizationObjects[r]
                if u.Object and u.Object.Parent ~= nil then Shared.SetLangForObject(r) else Shared.LocalizationObjects[r]=nil end
            end
        end

        function Shared.SetLanguage(p)
            Shared.Language = p
            Shared.UpdateLang()
        end

        function Shared.Icon(p,r) return IconsModule.Icon(p,nil,r~=false) end
        function Shared.AddIcons(p,r) return IconsModule.AddIcons(p,r) end

        function Shared.New(p,r,u)
            local v = Instance.new(p)
            for x,z in next,Shared.DefaultProperties[p]or{} do v[x]=z end
            for A,B in next,r or{} do
                if A ~= "ThemeTag" then v[A]=B end
                if Shared.Localization and Shared.Localization.Enabled and A=="Text" then
                    local C = string.match(B,"^"..Shared.Localization.Prefix.."(.+)")
                    if C then
                        local F = #Shared.LocalizationObjects+1
                        Shared.LocalizationObjects[F] = {TranslationId=C,Object=v}
                        Shared.SetLangForObject(F)
                    end
                end
            end
            for C,F in next,u or{} do F.Parent=v end
            if r and r.ThemeTag then Shared.AddThemeObject(v,r.ThemeTag) end
            if r and r.FontFace then Shared.AddFontObject(v) end
            return v
        end

        function Shared.Tween(p,r,u,...) return TweenService:Create(p,TweenInfo.new(r,...),u) end

        function Shared.NewRoundFrame(p,r,u,v,A,B)
            local function getImageForType(C) return Shared.Shapes[C] end
            local function getSliceCenterForType(C) return C~="Shadow-sm" and Rect.new(256,256,256,256) or Rect.new(512,512,512,512) end
            
            local C = Shared.New(A and"ImageButton"or"ImageLabel",{Image=getImageForType(r), ScaleType="Slice", SliceCenter=getSliceCenterForType(r), SliceScale=1, BackgroundTransparency=1, ThemeTag=u.ThemeTag and u.ThemeTag},v)
            
            for F,G in pairs(u or{}) do if F~="ThemeTag" then C[F]=G end end
            
            local function UpdateSliceScale(H) local J = r~="Shadow-sm" and (H/(256)) or (H/512) C.SliceScale = math.max(J,0.0001) end
            
            local H = {}
            function H.SetRadius(J,L) UpdateSliceScale(L) end
            function H.SetType(J,L) r=L C.Image=getImageForType(L) C.SliceCenter=getSliceCenterForType(L) UpdateSliceScale(p) end
            function H.UpdateShape(J,L,M) if M then r=M C.Image=getImageForType(M) C.SliceCenter=getSliceCenterForType(M) end if L then p=L end UpdateSliceScale(p) end
            function H.GetRadius(J) return p end
            function H.GetType(J) return r end
            
            UpdateSliceScale(p)
            return C,B and H or nil
        end

        function Shared.SetDraggable(u) Shared.CanDraggable = u end

        function Shared.Drag(u,v,A)
            local B local C,F,G local H = {CanDraggable=true}
            if not v or typeof(v)~="table" then v={u} end
            
            local function update(J) if not C or not H.CanDraggable then return end
                local L = J.Position-F Shared.Tween(u,0.02,{Position=UDim2.new(G.X.Scale,G.X.Offset+L.X,G.Y.Scale,G.Y.Offset+L.Y)}):Play()
            end
            
            for J,L in pairs(v) do
                L.InputBegan:Connect(function(M) if (M.UserInputType==Enum.UserInputType.MouseButton1 or M.UserInputType==Enum.UserInputType.Touch) and H.CanDraggable then
                    if B==nil then B=L C=true F=M.Position G=u.Position
                        if A and typeof(A)=="function" then A(true,B) end
                        M.Changed:Connect(function() if M.UserInputState==Enum.UserInputState.End then C=false B=nil if A and typeof(A)=="function" then A(false,nil) end end end)
                    end end end)
                L.InputChanged:Connect(function(M) if C and B==L then if M.UserInputType==Enum.UserInputType.MouseMovement or M.UserInputType==Enum.UserInputType.Touch then update(M) end end end)
            end
            
            UserInputService.InputChanged:Connect(function(M) if C and B~=nil then if M.UserInputType==Enum.UserInputType.MouseMovement or M.UserInputType==Enum.UserInputType.Touch then update(M) end end end)
            
            function H.Set(M,N) H.CanDraggable = N end
            return H
        end

        IconsModule.Init(Shared.New,"Icon")

        function Shared.SanitizeFilename(u)
            local v = u:match"([^/]+)$" or u
            v = v:gsub("%.[^%.]+$","")
            v = v:gsub("[^%w%-_]","_")
            if #v > 50 then v = v:sub(1,50) end
            return v
        end

        function Shared.Image(u,v,A,B,C,F,G,H)
            B = B or "Temp"
            v = Shared.SanitizeFilename(v)
            local J = Shared.New("Frame",{Size=UDim2.new(0,0,0,0), BackgroundTransparency=1},{Shared.New("ImageLabel",{Size=UDim2.new(1,0,1,0), BackgroundTransparency=1, ScaleType="Crop", ThemeTag=(Shared.Icon(u)or G)and{ImageColor3=F and(H or"Icon")or nil} or nil},{Shared.New("UICorner",{CornerRadius=UDim.new(0,A)})})})
            
            if Shared.Icon(u) then
                J.ImageLabel:Destroy()
                local L = IconsModule.Image{Icon=u, Size=UDim2.new(1,0,1,0), Colors={(F and(H or"Icon")or false),"Button"}}.IconFrame
                L.Parent = J
            elseif string.find(u,"http") then
                local L = "Atunid/"..B.."/assets/."..C.."-"..v..".png"
                local M,N = pcall(function() task.spawn(function()
                    local M = Shared.Request{Url=u, Method="GET"}.Body
                    writefile(L,M)
                    local N,O = pcall(getcustomasset,L)
                    if N then J.ImageLabel.Image=O else warn(string.format("[ Atunid.Creator ] Failed to load custom asset '%s': %s",L,tostring(O))) J:Destroy() return end
                end) end)
                if not M then warn("[ Atunid.Creator ] '"..identifyexecutor().."' doesnt support the URL Images. Error: "..N) J:Destroy() end
            elseif u=="" then J.Visible=false else J.ImageLabel.Image=u end
            return J
        end

        return Shared
    end

    function Atunid.Localization()
        local b = {}
        function b.New(e,f,g)
            local h = {Enabled=f.Enabled or false, Translations=f.Translations or{}, Prefix=f.Prefix or"loc:", DefaultLanguage=f.DefaultLanguage or"en"}
            g.Localization = h
            return h
        end
        return b
    end

    function Atunid.Notifications()
        local b = Atunid.load('Core')
        local e = b.New
        local f = b.Tween
        local g = {Size=UDim2.new(0,300,1,-156), SizeLower=UDim2.new(0,300,1,-56), UICorner=13, UIPadding=14, Holder=nil, NotificationIndex=0, Notifications={}}
        
        function g.Init(h)
            local i = {Lower=false}
            function i.SetLower(j) i.Lower=j i.Frame.Size=j and g.SizeLower or g.Size end
            i.Frame = e("Frame",{Position=UDim2.new(1,-29,0,56), AnchorPoint=Vector2.new(1,0), Size=g.Size, Parent=h, BackgroundTransparency=1},{e("UIListLayout",{HorizontalAlignment="Center", SortOrder="LayoutOrder", VerticalAlignment="Bottom", Padding=UDim.new(0,8)}), e("UIPadding",{PaddingBottom=UDim.new(0,29)})})
            return i
        end

        function g.New(h)
            local i = {Title=h.Title or"Notification", Content=h.Content or nil, Icon=h.Icon or nil, IconThemed=h.IconThemed, Background=h.Background, BackgroundImageTransparency=h.BackgroundImageTransparency, Duration=h.Duration or 5, Buttons=h.Buttons or{}, CanClose=true, UIElements={}, Closed=false}
            if i.CanClose==nil then i.CanClose=true end
            g.NotificationIndex = g.NotificationIndex+1
            g.Notifications[g.NotificationIndex] = i
            
            local j if i.Icon then j = b.Image(i.Icon, i.Title..":"..i.Icon, 0, h.Window, "Notification", i.IconThemed) j.Size=UDim2.new(0,26,0,26) j.Position=UDim2.new(0,g.UIPadding,0,g.UIPadding) end
            
            local l if i.CanClose then l = e("ImageButton",{Image=b.Icon"x"[1], ImageRectSize=b.Icon"x"[2].ImageRectSize, ImageRectOffset=b.Icon"x"[2].ImageRectPosition, BackgroundTransparency=1, Size=UDim2.new(0,16,0,16), Position=UDim2.new(1,-g.UIPadding,0,g.UIPadding), AnchorPoint=Vector2.new(1,0), ThemeTag={ImageColor3="Text"}, ImageTransparency=.4},{e("TextButton",{Size=UDim2.new(1,8,1,8), BackgroundTransparency=1, AnchorPoint=Vector2.new(0.5,0.5), Position=UDim2.new(0.5,0,0.5,0), Text=""})}) end
            
            local m = e("Frame",{Size=UDim2.new(0,0,1,0), BackgroundTransparency=.95, ThemeTag={BackgroundColor3="Text"}})
            local p = e("Frame",{Size=UDim2.new(1, i.Icon and-28-g.UIPadding or 0,1,0), Position=UDim2.new(1,0,0,0), AnchorPoint=Vector2.new(1,0), BackgroundTransparency=1, AutomaticSize="Y"},{e("UIPadding",{PaddingTop=UDim.new(0,g.UIPadding), PaddingLeft=UDim.new(0,g.UIPadding), PaddingRight=UDim.new(0,g.UIPadding), PaddingBottom=UDim.new(0,g.UIPadding)}), e("TextLabel",{AutomaticSize="Y", Size=UDim2.new(1,-30-g.UIPadding,0,0), TextWrapped=true, TextXAlignment="Left", RichText=true, BackgroundTransparency=1, TextSize=16, ThemeTag={TextColor3="Text"}, Text=i.Title, FontFace=Font.new(b.Font,Enum.FontWeight.Medium)}), e("UIListLayout",{Padding=UDim.new(0,g.UIPadding/3)})})
            
            if i.Content then e("TextLabel",{AutomaticSize="Y", Size=UDim2.new(1,0,0,0), TextWrapped=true, TextXAlignment="Left", RichText=true, BackgroundTransparency=1, TextTransparency=.4, TextSize=15, ThemeTag={TextColor3="Text"}, Text=i.Content, FontFace=Font.new(b.Font,Enum.FontWeight.Medium), Parent=p}) end
            
            local r = b.NewRoundFrame(g.UICorner,"Pill",{Size=UDim2.new(1,0,0,0), Position=UDim2.new(2,0,1,0), AnchorPoint=Vector2.new(0,1), AutomaticSize="Y", ImageTransparency=.05, ThemeTag={ImageColor3="Background"}},{e("CanvasGroup",{Size=UDim2.new(1,0,1,0), BackgroundTransparency=1},{m, e("UICorner",{CornerRadius=UDim.new(0,g.UICorner)})}), e("ImageLabel",{Name="Background", Image=i.Background, BackgroundTransparency=1, Size=UDim2.new(1,0,1,0), ScaleType="Crop", ImageTransparency=i.BackgroundImageTransparency},{e("UICorner",{CornerRadius=UDim.new(0,g.UICorner)})}), p, j, l})
            local u = e("Frame",{BackgroundTransparency=1, Size=UDim2.new(1,0,0,0), Parent=g.Holder},{r})
            
            function i.Close(v) if not i.Closed then i.Closed=true f(u,0.45,{Size=UDim2.new(1,0,0,-8)},Enum.EasingStyle.Quint,Enum.EasingDirection.Out):Play() f(r,0.55,{Position=UDim2.new(2,0,1,0)},Enum.EasingStyle.Quint,Enum.EasingDirection.Out):Play() task.wait(.45) u:Destroy() end end
            
            task.spawn(function() task.wait() f(u,0.45,{Size=UDim2.new(1,0,0,r.AbsoluteSize.Y)},Enum.EasingStyle.Quint,Enum.EasingDirection.Out):Play() f(r,0.45,{Position=UDim2.new(0,0,1,0)},Enum.EasingStyle.Quint,Enum.EasingDirection.Out):Play() if i.Duration then f(m,i.Duration,{Size=UDim2.new(1,0,1,0)},Enum.EasingStyle.Linear,Enum.EasingDirection.InOut):Play() task.wait(i.Duration) i:Close() end end)
            
            if l then b.AddSignal(l.TextButton.MouseButton1Click,function() i:Close() end) end
            return i
        end
        return g
    end

    function Atunid.Buttons()
        local aa = {}
        local ab = Atunid.load('Core')
        local ac = ab.New
        local ad = ab.Tween
        
        function aa.New(ae,af,ag,ah,ai,aj,ak,al)
            ah = ah or "Primary"
            local am = al or (not ak and 10 or 99)
            local an
            if af and af~="" then an = ac("ImageLabel",{Image=ab.Icon(af)[1], ImageRectSize=ab.Icon(af)[2].ImageRectSize, ImageRectOffset=ab.Icon(af)[2].ImageRectPosition, Size=UDim2.new(0,21,0,21), BackgroundTransparency=1, ImageColor3=ah=="White" and Color3.new(0,0,0) or nil, ImageTransparency=ah=="White" and .4 or 0, ThemeTag={ImageColor3=ah~="White" and "Icon" or nil}}) end
            
            local ao = ac("TextButton",{Size=UDim2.new(0,0,1,0), AutomaticSize="X", Parent=ai, BackgroundTransparency=1},{ab.NewRoundFrame(am,"Pill",{ThemeTag={ImageColor3=ah~="White" and "Button" or nil}, ImageColor3=ah=="White" and Color3.new(1,1,1) or nil, Size=UDim2.new(1,0,1,0), Name="Pill", ImageTransparency=ah=="Primary" and 0 or ah=="White" and 0 or 1}), ab.NewRoundFrame(am,"Pill",{ImageColor3=Color3.new(1,1,1), Size=UDim2.new(1,0,1,0), Name="Special", ImageTransparency=ah=="Secondary" and 0.95 or 1}), ab.NewRoundFrame(am,"Shadow-sm",{ImageColor3=Color3.new(0,0,0), Size=UDim2.new(1,3,1,3), AnchorPoint=Vector2.new(0.5,0.5), Position=UDim2.new(0.5,0,0.5,0), Name="Shadow", ImageTransparency=1, Visible=not ak}), ab.NewRoundFrame(am,not ak and "PillOutline" or "Pill-Outline",{ThemeTag={ImageColor3=ah~="White" and "Outline" or nil}, Size=UDim2.new(1,0,1,0), ImageColor3=ah=="White" and Color3.new(0,0,0) or nil, ImageTransparency=ah=="Primary" and .95 or .85, Name="PillOutline"},{ac("UIGradient",{Rotation=70, Color=ColorSequence.new{ColorSequenceKeypoint.new(0.0,Color3.fromRGB(255,255,255)), ColorSequenceKeypoint.new(0.5,Color3.fromRGB(255,255,255)), ColorSequenceKeypoint.new(1.0,Color3.fromRGB(255,255,255))}, Transparency=NumberSequence.new{NumberSequenceKeypoint.new(0.0,0.1), NumberSequenceKeypoint.new(0.5,1), NumberSequenceKeypoint.new(1.0,0.1)}})}), ab.NewRoundFrame(am,"Pill",{Size=UDim2.new(1,0,1,0), Name="Frame", ThemeTag={ImageColor3=ah~="White" and "Text" or nil}, ImageColor3=ah=="White" and Color3.new(0,0,0) or nil, ImageTransparency=1},{ac("UIPadding",{PaddingLeft=UDim.new(0,16), PaddingRight=UDim.new(0,16)}), ac("UIListLayout",{FillDirection="Horizontal", Padding=UDim.new(0,8), VerticalAlignment="Center", HorizontalAlignment="Center"}), an, ac("TextLabel",{BackgroundTransparency=1, FontFace=Font.new(ab.Font,Enum.FontWeight.SemiBold), Text=ae or "Button", ThemeTag={TextColor3=(ah~="Primary" and ah~="White") and "Text"}, TextColor3=ah=="Primary" and Color3.new(1,1,1) or ah=="White" and Color3.new(0,0,0) or nil, AutomaticSize="XY", TextSize=18})})})
            
            ab.AddSignal(ao.MouseEnter,function() ad(ao.Frame,.047,{ImageTransparency=.95}):Play() end)
            ab.AddSignal(ao.MouseLeave,function() ad(ao.Frame,.047,{ImageTransparency=1}):Play() end)
            ab.AddSignal(ao.MouseButton1Up,function() if aj then aj:Close()() end if ag then ab.SafeCallback(ag) end end)
            return ao
        end
        return aa
    end

    function Atunid.Themes()
        return function(aa) return {
            Dark = {Name="Dark", Accent=Color3.fromHex"#1A1A2E", Dialog=Color3.fromHex"#161616", Outline=Color3.fromHex"#FFFFFF", Text=Color3.fromHex"#FFFFFF", Placeholder=Color3.fromHex"#7a7a7a", Background=Color3.fromHex"#101010", Button=Color3.fromHex"#6A5ACD", Icon=Color3.fromHex"#a1a1aa", Toggle=Color3.fromHex"#33C759", Checkbox=Color3.fromHex"#0091ff"},
            Light = {Name="Light", Accent=Color3.fromHex"#F8F9FA", Dialog=Color3.fromHex"#f4f4f5", Outline=Color3.fromHex"#09090b", Text=Color3.fromHex"#000000", Placeholder=Color3.fromHex"#555555", Background=Color3.fromHex"#e4e4e7", Button=Color3.fromHex"#1A1A2E", Icon=Color3.fromHex"#52525b"},
            Slate = {Name="Slate", Accent=Color3.fromHex"#6A5ACD", Dialog=Color3.fromHex"#2D2B55", Outline=Color3.fromHex"#C9C9FF", Text=Color3.fromHex"#E6E6FA", Placeholder=Color3.fromHex"#A8A8FF", Background=Color3.fromHex"#1E1D40", Button=Color3.fromHex"#7B68EE", Icon=Color3.fromHex"#9370DB"},
            Coral = {Name="Coral", Accent=Color3.fromHex"#FF6B6B", Dialog=Color3.fromHex"#2D1B1B", Outline=Color3.fromHex"#FFCACA", Text=Color3.fromHex"#FFE6E6", Placeholder=Color3.fromHex"#FFA8A8", Background=Color3.fromHex"#1A0F0F", Button=Color3.fromHex"#FF5252", Icon=Color3.fromHex"#FF7B7B"},
            Mint = {Name="Mint", Accent=Color3.fromHex"#4ECDC4", Dialog=Color3.fromHex"#1B2D2B", Outline=Color3.fromHex"#CAFFFA", Text=Color3.fromHex"#E6FFFC", Placeholder=Color3.fromHex"#A8FFF5", Background=Color3.fromHex"#0F1A19", Button=Color3.fromHex"#26A69A", Icon=Color3.fromHex"#66BB6A"},
            Amber = {Name="Amber", Accent=Color3.fromHex"#FFB74D", Dialog=Color3.fromHex"#2D261B", Outline=Color3.fromHex"#FFE0CA", Text=Color3.fromHex"#FFF2E6", Placeholder=Color3.fromHex"#FFD4A8", Background=Color3.fromHex"#1A150F", Button=Color3.fromHex"#FFA726", Icon=Color3.fromHex"#FFB74D"},
            Violet = {Name="Violet", Accent=Color3.fromHex"#BA68C8", Dialog=Color3.fromHex"#2B1B2D", Outline=Color3.fromHex"#E6CAFF", Text=Color3.fromHex"#F2E6FF", Placeholder=Color3.fromHex"#D4A8FF", Background=Color3.fromHex"#150F1A", Button=Color3.fromHex"#AB47BC", Icon=Color3.fromHex"#BA68C8"},
            Ocean = {Name="Ocean", Accent=Color3.fromHex"#4FC3F7", Dialog=Color3.fromHex"#1B252D", Outline=Color3.fromHex"#CAF0FF", Text=Color3.fromHex"#E6F7FF", Placeholder=Color3.fromHex"#A8E4FF", Background=Color3.fromHex"#0F151A", Button=Color3.fromHex"#29B6F6", Icon=Color3.fromHex"#4FC3F7"},
            Forest = {Name="Forest", Accent=Color3.fromHex"#66BB6A", Dialog=Color3.fromHex"#1B2D1C", Outline=Color3.fromHex"#CAFFCE", Text=Color3.fromHex"#E6FFE8", Placeholder=Color3.fromHex"#A8FFAD", Background=Color3.fromHex"#0F1A10", Button=Color3.fromHex"#4CAF50", Icon=Color3.fromHex"#66BB6A"},
            Sunset = {Name="Sunset", Accent=Color3.fromHex"#FF8A65", Dialog=Color3.fromHex"#2D1F1B", Outline=Color3.fromHex"#FFD7CA", Text=Color3.fromHex"#FFECE6", Placeholder=Color3.fromHex"#FFB8A8", Background=Color3.fromHex"#1A120F", Button=Color3.fromHex"#FF7043", Icon=Color3.fromHex"#FF8A65"},
            Royal = {Name="Royal", Accent=Color3.fromHex"#5C6BC0", Dialog=Color3.fromHex"#1B1F2D", Outline=Color3.fromHex"#CACFFF", Text=Color3.fromHex"#E6E8FF", Placeholder=Color3.fromHex"#A8ADFF", Background=Color3.fromHex"#0F111A", Button=Color3.fromHex"#3F51B5", Icon=Color3.fromHex"#5C6BC0"},
            Rose = {Name="Rose", Accent=Color3.fromHex"#F06292", Dialog=Color3.fromHex"#2D1B24", Outline=Color3.fromHex"#FFCAE6", Text=Color3.fromHex"#FFE6F2", Placeholder=Color3.fromHex"#FFA8D4", Background=Color3.fromHex"#1A0F14", Button=Color3.fromHex"#EC407A", Icon=Color3.fromHex"#F06292"},
            Rainbow = {Name="Rainbow", Accent=aa:Gradient({["0"]={Color=Color3.fromHex"#FF6B6B",Transparency=0},["25"]={Color=Color3.fromHex"#FFA726",Transparency=0},["50"]={Color=Color3.fromHex"#66BB6A",Transparency=0},["75"]={Color=Color3.fromHex"#42A5F5",Transparency=0},["100"]={Color=Color3.fromHex"#BA68C8",Transparency=0}},{Rotation=45}), Dialog=aa:Gradient({["0"]={Color=Color3.fromHex"#FF0080",Transparency=0},["25"]={Color=Color3.fromHex"#8000FF",Transparency=0},["50"]={Color=Color3.fromHex"#0080FF",Transparency=0},["75"]={Color=Color3.fromHex"#00FF80",Transparency=0},["100"]={Color=Color3.fromHex"#FF8000",Transparency=0}},{Rotation=135}), Outline=Color3.fromHex"#ffffff", Text=Color3.fromHex"#ffffff", Placeholder=Color3.fromHex"#00ff80", Background=aa:Gradient({["0"]={Color=Color3.fromHex"#FF6B6B",Transparency=0},["20"]={Color=Color3.fromHex"#FFA726",Transparency=0},["40"]={Color=Color3.fromHex"#66BB6A",Transparency=0},["60"]={Color=Color3.fromHex"#42A5F5",Transparency=0},["80"]={Color=Color3.fromHex"#BA68C8",Transparency=0},["100"]={Color=Color3.fromHex"#FF6B6B",Transparency=0}},{Rotation=90}), Button=aa:Gradient({["0"]={Color=Color3.fromHex"#FF6B6B",Transparency=0},["25"]={Color=Color3.fromHex"#FFA726",Transparency=0},["50"]={Color=Color3.fromHex"#66BB6A",Transparency=0},["75"]={Color=Color3.fromHex"#42A5F5",Transparency=0},["100"]={Color=Color3.fromHex"#BA68C8",Transparency=0}},{Rotation=60}), Icon=Color3.fromHex"#ffffff"}
        } end
    end

    function Atunid.CreateWindow(config)
        local Core = Atunid.load('Core')
        local New = Core.New
        local Tween = Core.Tween
        local Drag = Core.Drag
        
        local Window = {
            Title = config.Title or "Atunid Window",
            Author = config.Author or "Atunid Library",
            Icon = config.Icon,
            Size = config.Size or UDim2.new(0, 500, 0, 400),
            Position = config.Position or UDim2.new(0.5, 0, 0.5, 0),
            Theme = config.Theme or "Dark",
            UIScale = config.UIScale or 1,
            Folder = config.Folder or "Atunid",
            Debug = config.Debug or false,
            CanDropdown = true,
            NewElements = config.NewElements or false,
            ScrollBarEnabled = config.ScrollBarEnabled or true,
            HidePanelBackground = config.HidePanelBackground or false,
            UICorner = config.UICorner or 22,
            UIPadding = config.UIPadding or 14,
            ElementConfig = {UICorner = config.ElementUICorner or 16, UIPadding = config.ElementUIPadding or 12},
            AllElements = {},
            PendingFlags = {},
            CurrentConfig = nil,
            ConfigManager = nil,
            Services = Atunid.load('Services')()
        }
        
        Window.WindUI = Window
        
        local ScreenGui = New("ScreenGui", {
            Name = "Atunid",
            ResetOnSpawn = false,
            ZIndexBehavior = "Sibling"
        })
        
        if config.Parent then
            ScreenGui.Parent = config.Parent
        else
            ScreenGui.Parent = game:GetService("CoreGui")
        end
        
        local MainFrame = New("Frame", {
            Size = Window.Size,
            Position = Window.Position,
            AnchorPoint = Vector2.new(0.5, 0.5),
            BackgroundTransparency = 1,
            Parent = ScreenGui
        })
        
        local UIScale = New("UIScale", {Scale = Window.UIScale, Parent = MainFrame})
        
        local MainContainer = Core.NewRoundFrame(Window.UICorner, "Pill", {
            Size = UDim2.new(1, 0, 1, 0),
            ThemeTag = {ImageColor3 = "WindowBackground"},
            ImageTransparency = 0.02,
            Parent = MainFrame
        })
        
        local Topbar = New("Frame", {
            Size = UDim2.new(1, 0, 0, 50),
            BackgroundTransparency = 1,
            Parent = MainContainer,
            Name = "Topbar"
        })
        
        local TitleLabel = New("TextLabel", {
            Text = Window.Title,
            TextSize = 20,
            FontFace = Font.new(Core.Font, Enum.FontWeight.SemiBold),
            ThemeTag = {TextColor3 = "WindowTopbarTitle"},
            BackgroundTransparency = 1,
            Size = UDim2.new(1, -100, 1, 0),
            Position = UDim2.new(0, 50, 0, 0),
            TextXAlignment = "Left"
        })
        
        local AuthorLabel = New("TextLabel", {
            Text = Window.Author,
            TextSize = 14,
            FontFace = Font.new(Core.Font, Enum.FontWeight.Medium),
            ThemeTag = {TextColor3 = "WindowTopbarAuthor"},
            BackgroundTransparency = 1,
            Size = UDim2.new(1, -100, 0, 20),
            Position = UDim2.new(0, 50, 0, 25),
            TextXAlignment = "Left",
            TextTransparency = 0.4
        })
        
        local IconFrame
        if Window.Icon then
            IconFrame = Core.Image(Window.Icon, Window.Icon, 0, Window.Folder, "Window", true, false, "WindowTopbarIcon")
            IconFrame.Size = UDim2.new(0, 32, 0, 32)
            IconFrame.Position = UDim2.new(0, 10, 0, 9)
        end
        
        local CloseButton = New("ImageButton", {
            Image = Core.Icon("x")[1],
            ImageRectSize = Core.Icon("x")[2].ImageRectSize,
            ImageRectOffset = Core.Icon("x")[2].ImageRectPosition,
            BackgroundTransparency = 1,
            Size = UDim2.new(0, 20, 0, 20),
            Position = UDim2.new(1, -30, 0, 15),
            ThemeTag = {ImageColor3 = "WindowTopbarButtonIcon"},
            Parent = Topbar
        })
        
        local MainBar = New("Frame", {
            Size = UDim2.new(1, 0, 1, -50),
            Position = UDim2.new(0, 0, 0, 50),
            BackgroundTransparency = 1,
            Parent = MainContainer,
            Name = "MainBar"
        })
        
        local TabContainer = New("Frame", {
            Size = UDim2.new(0, 150, 1, 0),
            BackgroundTransparency = 1,
            Parent = MainBar
        })
        
        local ContentContainer = New("Frame", {
            Size = UDim2.new(1, -150, 1, 0),
            Position = UDim2.new(0, 150, 0, 0),
            BackgroundTransparency = 1,
            Parent = MainBar
        })
        
        local TabListLayout = New("UIListLayout", {
            Padding = UDim.new(0, 8),
            SortOrder = "LayoutOrder",
            Parent = TabContainer
        })
        
        local TabPadding = New("UIPadding", {
            PaddingTop = UDim.new(0, 10),
            PaddingLeft = UDim.new(0, 10),
            PaddingRight = UDim.new(0, 10),
            PaddingBottom = UDim.new(0, 10),
            Parent = TabContainer
        })
        
        Window.UIElements = {
            ScreenGui = ScreenGui,
            Main = MainFrame,
            MainContainer = MainContainer,
            Topbar = Topbar,
            MainBar = MainBar,
            TabContainer = TabContainer,
            ContentContainer = ContentContainer
        }
        
        Core.AddSignal(CloseButton.MouseButton1Click, function()
            ScreenGui:Destroy()
        end)
        
        Drag(MainFrame, {Topbar})
        
        Window.TabHandler = Atunid.load('Tabs')().Init(Window, Window, TabContainer, ContentContainer, Core.NewRoundFrame(Window.UICorner, "Pill", {
            Size = UDim2.new(1, -14, 0, 3),
            Position = UDim2.new(0, 7, 0, 0),
            ThemeTag = {ImageColor3 = "Accent"},
            ImageTransparency = 0.8,
            Parent = TabContainer
        }))
        
        Window.Notifications = Atunid.load('Notifications')().Init(Window.UIElements.ScreenGui)
        
        function Window:Tab(tabConfig)
            return self.TabHandler:New(tabConfig)
        end
        
        function Window:Notify(notificationConfig)
            return self.Notifications:New(notificationConfig)
        end
        
        function Window:SetTheme(themeName)
            Core.SetTheme(themeName)
        end
        
        Core.SetTheme(Window.Theme)
        
        return Window
    end

    function Atunid.Services()
        return {
            platoboost = {Name="Platoboost", Icon="rbxassetid://75920162824531", Args={"ServiceId","Secret"}, New=Atunid.load('Platoboost').New},
            pandadevelopment = {Name="Panda Development", Icon="panda", Args={"ServiceId"}, New=Atunid.load('PandaDevelopment').New},
            luarmor = {Name="Luarmor", Icon="rbxassetid://130918283130165", Args={"ScriptId","Discord"}, New=Atunid.load('Luarmor').New},
        }
    end

    function Atunid.Platoboost()
        local ab = {}
        function ab.New(ac,ad)
            return {Verify=function(ag) return true, "Authenticated" end, Copy=function() setclipboard("https://platoboost.app") end}
        end
        return ab
    end

    function Atunid.PandaDevelopment()
        local ab = {}
        function ab.New(ac)
            return {Verify=function(ag) return true, "Authenticated" end, Copy=function() setclipboard("https://pandadevelopment.net") end}
        end
        return ab
    end

    function Atunid.Luarmor()
        local aa = {}
        function aa.New(ab,ac)
            return {Verify=function(ag) return true, "Authenticated" end, Copy=function() setclipboard("https://luarmor.net") end}
        end
        return aa
    end

    function Atunid.Tabs()
        local al = {Tabs={}, Containers={}, SelectedTab=nil, TabCount=0, ToolTipParent=nil, TabHighlight=nil, OnChangeFunc=function(al)end}
        
        function al.Init(am,an,ao,ap,aq)
            Window = am
            WindUI = an
            al.ToolTipParent = ao
            al.TabHighlight = aq
            return al
        end
        
        function al.New(am,an)
            local ao = {
                __type="Tab", Title=am.Title or"Tab", Desc=am.Desc, Icon=am.Icon, IconThemed=am.IconThemed, Locked=am.Locked, ShowTabTitle=am.ShowTabTitle, Selected=false, Index=nil, Parent=am.Parent, UIElements={}, Elements={}, ContainerFrame=nil, UICorner=Window.UICorner-(Window.UIPadding/2), Gap=Window.NewElements and 1 or 6
            }
            
            al.TabCount = al.TabCount+1
            ao.Index = al.TabCount
            
            local Core = Atunid.load('Core')
            local New = Core.New
            local Tween = Core.Tween
            
            ao.UIElements.Main = Core.NewRoundFrame(ao.UICorner,"Pill",{BackgroundTransparency=1, Size=UDim2.new(1,-7,0,0), AutomaticSize="Y", Parent=am.Parent, ThemeTag={ImageColor3="TabBackground"}, ImageTransparency=1},{Core.NewRoundFrame(ao.UICorner,"PillOutline",{Size=UDim2.new(1,0,1,0), ThemeTag={ImageColor3="Text"}, ImageTransparency=1, Name="Outline"},{New("UIGradient",{Rotation=80, Color=ColorSequence.new{ColorSequenceKeypoint.new(0.0,Color3.fromRGB(255,255,255)), ColorSequenceKeypoint.new(0.5,Color3.fromRGB(255,255,255)), ColorSequenceKeypoint.new(1.0,Color3.fromRGB(255,255,255))}, Transparency=NumberSequence.new{NumberSequenceKeypoint.new(0.0,0.1), NumberSequenceKeypoint.new(0.5,1), NumberSequenceKeypoint.new(1.0,0.1)}})}), Core.NewRoundFrame(ao.UICorner,"Pill",{Size=UDim2.new(1,0,0,0), AutomaticSize="Y", ThemeTag={ImageColor3="Text"}, ImageTransparency=1, Name="Frame"},{New("UIListLayout",{SortOrder="LayoutOrder", Padding=UDim.new(0,10), FillDirection="Horizontal", VerticalAlignment="Center"}), New("TextLabel",{Text=ao.Title, ThemeTag={TextColor3="TabTitle"}, TextTransparency=not ao.Locked and 0.4 or.7, TextSize=15, Size=UDim2.new(1,0,0,0), FontFace=Font.new(Core.Font,Enum.FontWeight.Medium), TextWrapped=true, RichText=true, AutomaticSize="Y", LayoutOrder=2, TextXAlignment="Left", BackgroundTransparency=1}), New("UIPadding",{PaddingTop=UDim.new(0,2+(Window.UIPadding/2)), PaddingLeft=UDim.new(0,4+(Window.UIPadding/2)), PaddingRight=UDim.new(0,4+(Window.UIPadding/2)), PaddingBottom=UDim.new(0,2+(Window.UIPadding/2))})})},true)
            
            local ap = 0
            local aq
            local ar
            
            if ao.Icon then
                aq = Core.Image(ao.Icon, ao.Icon..":"..ao.Title, 0, Window.Folder, ao.__type, true, ao.IconThemed, "TabIcon")
                aq.Size = UDim2.new(0,16,0,16)
                aq.Parent = ao.UIElements.Main.Frame
                aq.ImageLabel.ImageTransparency = not ao.Locked and 0 or .7
                ao.UIElements.Main.Frame.TextLabel.Size = UDim2.new(1,-30,0,0)
                ap = -30
                ao.UIElements.Icon = aq
            end
            
            ao.UIElements.ContainerFrame = New("ScrollingFrame",{Size=UDim2.new(1,0,1,ao.ShowTabTitle and-((Window.UIPadding*2.4)+12)or 0), BackgroundTransparency=1, ScrollBarThickness=0, ElasticBehavior="Never", CanvasSize=UDim2.new(0,0,0,0), AnchorPoint=Vector2.new(0,1), Position=UDim2.new(0,0,1,0), AutomaticCanvasSize="Y", ScrollingDirection="Y"},{New("UIPadding",{PaddingTop=UDim.new(0,not Window.HidePanelBackground and 20 or 10), PaddingLeft=UDim.new(0,not Window.HidePanelBackground and 20 or 10), PaddingRight=UDim.new(0,not Window.HidePanelBackground and 20 or 10), PaddingBottom=UDim.new(0,not Window.HidePanelBackground and 20 or 10)}), New("UIListLayout",{SortOrder="LayoutOrder", Padding=UDim.new(0,ao.Gap), HorizontalAlignment="Center"})})
            
            ao.UIElements.ContainerFrameCanvas = New("Frame",{Size=UDim2.new(1,0,1,0), BackgroundTransparency=1, Visible=false, Parent=Window.UIElements.MainBar, ZIndex=5},{ao.UIElements.ContainerFrame})
            
            al.Containers[al.TabCount] = ao.UIElements.ContainerFrameCanvas
            al.Tabs[al.TabCount] = ao
            ao.ContainerFrame = ao.UIElements.ContainerFrameCanvas
            
            Core.AddSignal(ao.UIElements.Main.MouseButton1Click,function() if not ao.Locked then al:SelectTab(al.TabCount) end end)
            
            ao.ElementsModule = Atunid.load('Elements')()
            ao.ElementsModule.Load(ao, ao.UIElements.ContainerFrame, ao.ElementsModule.Elements, Window, WindUI, nil, ao.ElementsModule, Window.UIScale, ao)
            
            return ao
        end
        
        function al.OnChange(am,an) al.OnChangeFunc = an end
        
        function al.SelectTab(am,an)
            if not al.Tabs[an].Locked then
                al.SelectedTab = an
                local Core = Atunid.load('Core')
                local Tween = Core.Tween
                
                for ao,ap in next,al.Tabs do
                    if not ap.Locked then
                        Tween(ap.UIElements.Main,0.15,{ImageTransparency=1}):Play()
                        Tween(ap.UIElements.Main.Outline,0.15,{ImageTransparency=1}):Play()
                        Tween(ap.UIElements.Main.Frame.TextLabel,0.15,{TextTransparency=0.3}):Play()
                        if ap.UIElements.Icon then Tween(ap.UIElements.Icon.ImageLabel,0.15,{ImageTransparency=0.4}):Play() end
                        ap.Selected = false
                    end
                end
                
                Tween(al.Tabs[an].UIElements.Main,0.15,{ImageTransparency=0.95}):Play()
                Tween(al.Tabs[an].UIElements.Main.Outline,0.15,{ImageTransparency=0.85}):Play()
                Tween(al.Tabs[an].UIElements.Main.Frame.TextLabel,0.15,{TextTransparency=0}):Play()
                if al.Tabs[an].UIElements.Icon then Tween(al.Tabs[an].UIElements.Icon.ImageLabel,0.15,{ImageTransparency=0.1}):Play() end
                al.Tabs[an].Selected = true
                
                for aq,ar in next,al.Containers do ar.AnchorPoint=Vector2.new(0,0.05) ar.Visible=false end
                al.Containers[an].Visible=true
                Tween(al.Containers[an],0.15,{AnchorPoint=Vector2.new(0,0)},Enum.EasingStyle.Quart,Enum.EasingDirection.Out):Play()
                
                al.OnChangeFunc(an)
            end
        end
        
        return al
    end

    function Atunid.Elements()
        return {
            Elements = {
                Button = Atunid.load('ButtonElement'),
                Toggle = Atunid.load('ToggleElement'),
                Slider = Atunid.load('SliderElement'),
                Input = Atunid.load('InputElement'),
                Dropdown = Atunid.load('DropdownElement'),
                Label = Atunid.load('LabelElement')
            },
            Load = function(ac,ae,ag,ai,aj,ak,al,am,an)
                for ao,ap in next,ag do
                    ac[ao] = function(aq,ar)
                        ar = ar or {}
                        ar.Tab = an or ac
                        ar.ParentTable = ac
                        ar.Index = #ac.Elements + 1
                        ar.GlobalIndex = #ai.AllElements + 1
                        ar.Parent = ae
                        ar.Window = ai
                        ar.WindUI = aj
                        ar.UIScale = am
                        ar.ElementsModule = al
                        
                        local as, at = ap:New(ar)
                        
                        ai.AllElements[ar.Index] = at
                        ac.Elements[ar.Index] = at
                        if an then an.Elements[ar.Index] = at end
                        
                        if ak then ak() end
                        return at
                    end
                end
            end
        }
    end

    function Atunid.ButtonElement()
        local af = {}
        function af.New(ag,ah)
            local ai = {__type="Button", Title=ah.Title or"Button", Desc=ah.Desc or nil, Icon=ah.Icon or"mouse-pointer-click", IconThemed=ah.IconThemed or false, Callback=ah.Callback or function()end}
            
            local Core = Atunid.load('Core')
            local New = Core.New
            
            local aj = New("TextButton", {
                Size = UDim2.new(1, 0, 0, 40),
                BackgroundTransparency = 1,
                Text = "",
                Parent = ah.Parent
            })
            
            local ak = Core.NewRoundFrame(ah.Window.ElementConfig.UICorner, "Pill", {
                Size = UDim2.new(1, 0, 1, 0),
                ThemeTag = {ImageColor3 = "Button"},
                ImageTransparency = 0.95,
                Parent = aj
            })
            
            local al = New("TextLabel", {
                Text = ai.Title,
                TextSize = 16,
                FontFace = Font.new(Core.Font, Enum.FontWeight.SemiBold),
                ThemeTag = {TextColor3 = "Text"},
                BackgroundTransparency = 1,
                Size = UDim2.new(1, 0, 1, 0),
                TextColor3 = Color3.new(1,1,1)
            })
            
            local am
            if ai.Icon then
                am = Core.Image(ai.Icon, ai.Icon, 0, ah.Window.Folder, "Button", true, ai.IconThemed)
                am.Size = UDim2.new(0, 20, 0, 20)
                am.Parent = ak
            end
            
            local an = New("Frame", {
                BackgroundTransparency = 1,
                Size = UDim2.new(1, 0, 1, 0),
                Parent = ak
            }, {
                New("UIListLayout", {
                    Padding = UDim.new(0, 8),
                    FillDirection = "Horizontal",
                    VerticalAlignment = "Center",
                    HorizontalAlignment = "Center"
                }),
                am,
                al
            })
            
            Core.AddSignal(aj.MouseButton1Click, function()
                Core.SafeCallback(ai.Callback)
            end)
            
            Core.AddSignal(aj.MouseEnter, function()
                Core.Tween(ak, 0.1, {ImageTransparency = 0.9}):Play()
            end)
            
            Core.AddSignal(aj.MouseLeave, function()
                Core.Tween(ak, 0.1, {ImageTransparency = 0.95}):Play()
            end)
            
            ai.ElementFrame = aj
            return ai.__type, ai
        end
        return af
    end

    function Atunid.ToggleElement()
        local ae = {}
        function ae.New(af,ag)
            local ah = {__type="Toggle", Title=ag.Title or"Toggle", Value=ag.Value or false, Callback=ag.Callback or function()end}
            
            local Core = Atunid.load('Core')
            local New = Core.New
            local Tween = Core.Tween
            
            local ai = New("TextButton", {
                Size = UDim2.new(1, 0, 0, 40),
                BackgroundTransparency = 1,
                Text = "",
                Parent = ag.Parent
            })
            
            local aj = Core.NewRoundFrame(ag.Window.ElementConfig.UICorner, "Pill", {
                Size = UDim2.new(1, 0, 1, 0),
                ThemeTag = {ImageColor3 = "ElementBackground"},
                ImageTransparency = 0.95,
                Parent = ai
            })
            
            local ak = New("TextLabel", {
                Text = ah.Title,
                TextSize = 16,
                FontFace = Font.new(Core.Font, Enum.FontWeight.SemiBold),
                ThemeTag = {TextColor3 = "Text"},
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -50, 1, 0),
                TextXAlignment = "Left"
            })
            
            local al = Core.NewRoundFrame(10, "Pill", {
                Size = UDim2.new(0, 30, 0, 18),
                Position = UDim2.new(1, -35, 0.5, 0),
                AnchorPoint = Vector2.new(1, 0.5),
                ThemeTag = {ImageColor3 = "Toggle"},
                ImageTransparency = ah.Value and 0.2 or 0.8,
                Parent = aj
            })
            
            local am = Core.NewRoundFrame(8, "Pill", {
                Size = UDim2.new(0, 14, 0, 14),
                Position = UDim2.new(0, ah.Value and 12 or 2, 0.5, 0),
                AnchorPoint = Vector2.new(0, 0.5),
                ImageColor3 = Color3.new(1,1,1),
                ImageTransparency = 0,
                Parent = al
            })
            
            function ah.Set(an, ao)
                ah.Value = ao
                Tween(am, 0.2, {Position = UDim2.new(0, ao and 12 or 2, 0.5, 0)}):Play()
                Tween(al, 0.2, {ImageTransparency = ao and 0.2 or 0.8}):Play()
                Core.SafeCallback(ah.Callback, ao)
            end
            
            Core.AddSignal(ai.MouseButton1Click, function()
                ah:Set(not ah.Value)
            end)
            
            ah.ElementFrame = ai
            return ah.__type, ah
        end
        return ae
    end

    function Atunid.SliderElement()
        local af = {}
        function af.New(ag,ah)
            local ai = {__type="Slider", Title=ah.Title or"Slider", Value=ah.Value or {Min=0, Max=100, Default=50}, Callback=ag.Callback or function()end}
            
            local Core = Atunid.load('Core')
            local New = Core.New
            local Tween = Core.Tween
            
            local aj = New("TextButton", {
                Size = UDim2.new(1, 0, 0, 60),
                BackgroundTransparency = 1,
                Text = "",
                Parent = ah.Parent
            })
            
            local ak = Core.NewRoundFrame(ah.Window.ElementConfig.UICorner, "Pill", {
                Size = UDim2.new(1, 0, 1, 0),
                ThemeTag = {ImageColor3 = "ElementBackground"},
                ImageTransparency = 0.95,
                Parent = aj
            })
            
            local al = New("TextLabel", {
                Text = ai.Title,
                TextSize = 16,
                FontFace = Font.new(Core.Font, Enum.FontWeight.SemiBold),
                ThemeTag = {TextColor3 = "Text"},
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -10, 0, 20),
                Position = UDim2.new(0, 10, 0, 5),
                TextXAlignment = "Left"
            })
            
            local am = New("TextLabel", {
                Text = tostring(ai.Value.Default),
                TextSize = 14,
                FontFace = Font.new(Core.Font, Enum.FontWeight.Medium),
                ThemeTag = {TextColor3 = "Text"},
                BackgroundTransparency = 1,
                Size = UDim2.new(0, 40, 0, 20),
                Position = UDim2.new(1, -45, 0, 5),
                TextXAlignment = "Right",
                TextTransparency = 0.4
            })
            
            local an = New("Frame", {
                Size = UDim2.new(1, -20, 0, 4),
                Position = UDim2.new(0, 10, 1, -15),
                BackgroundTransparency = 0.9,
                ThemeTag = {BackgroundColor3 = "Text"},
                Parent = ak
            })
            
            local ao = New("Frame", {
                Size = UDim2.new((ai.Value.Default - ai.Value.Min) / (ai.Value.Max - ai.Value.Min), 0, 1, 0),
                BackgroundTransparency = 0.5,
                ThemeTag = {BackgroundColor3 = "Button"},
                Parent = an
            })
            
            local ap = false
            local aq
            
            function ai.Set(ar, as)
                as = math.clamp(as, ai.Value.Min, ai.Value.Max)
                ai.Value.Default = as
                am.Text = tostring(math.floor(as))
                Tween(ao, 0.1, {Size = UDim2.new((as - ai.Value.Min) / (ai.Value.Max - ai.Value.Min), 0, 1, 0)}):Play()
                Core.SafeCallback(ai.Callback, as)
            end
            
            Core.AddSignal(aj.InputBegan, function(ar)
                if ar.UserInputType == Enum.UserInputType.MouseButton1 then
                    ap = true
                    aq = game:GetService("RunService").RenderStepped:Connect(function()
                        local as = game:GetService("UserInputService"):GetMouseLocation()
                        local at = (as.X - an.AbsolutePosition.X) / an.AbsoluteSize.X
                        at = math.clamp(at, 0, 1)
                        local au = ai.Value.Min + (at * (ai.Value.Max - ai.Value.Min))
                        ai:Set(au)
                    end)
                end
            end)
            
            Core.AddSignal(aj.InputEnded, function(ar)
                if ar.UserInputType == Enum.UserInputType.MouseButton1 and ap then
                    ap = false
                    if aq then aq:Disconnect() end
                end
            end)
            
            ai.ElementFrame = aj
            return ai.__type, ai
        end
        return af
    end

    function Atunid.InputElement()
        local ag = {}
        function ag.New(ah,ai)
            local aj = {__type="Input", Title=ai.Title or"Input", Placeholder=ai.Placeholder or"Enter text...", Value=ai.Value or"", Callback=ai.Callback or function()end}
            
            local Core = Atunid.load('Core')
            local New = Core.New
            
            local ak = New("TextButton", {
                Size = UDim2.new(1, 0, 0, 40),
                BackgroundTransparency = 1,
                Text = "",
                Parent = ai.Parent
            })
            
            local al = Core.NewRoundFrame(ai.Window.ElementConfig.UICorner, "Pill", {
                Size = UDim2.new(1, 0, 1, 0),
                ThemeTag = {ImageColor3 = "ElementBackground"},
                ImageTransparency = 0.95,
                Parent = ak
            })
            
            local am = New("TextLabel", {
                Text = aj.Title,
                TextSize = 16,
                FontFace = Font.new(Core.Font, Enum.FontWeight.SemiBold),
                ThemeTag = {TextColor3 = "Text"},
                BackgroundTransparency = 1,
                Size = UDim2.new(0.4, -10, 1, 0),
                Position = UDim2.new(0, 10, 0, 0),
                TextXAlignment = "Left"
            })
            
            local an = New("TextBox", {
                Text = aj.Value,
                PlaceholderText = aj.Placeholder,
                TextSize = 14,
                FontFace = Font.new(Core.Font, Enum.FontWeight.Regular),
                ThemeTag = {TextColor3 = "Text", PlaceholderColor3 = "Placeholder"},
                BackgroundTransparency = 1,
                Size = UDim2.new(0.6, -20, 1, 0),
                Position = UDim2.new(0.4, 10, 0, 0),
                TextXAlignment = "Left",
                ClearTextOnFocus = false
            })
            
            function aj.Set(ao, ap)
                aj.Value = ap
                an.Text = ap
                Core.SafeCallback(aj.Callback, ap)
            end
            
            Core.AddSignal(an.FocusLost, function(aq)
                if aq then aj:Set(an.Text) end
            end)
            
            aj.ElementFrame = ak
            return aj.__type, aj
        end
        return ag
    end

    function Atunid.DropdownElement()
        local ak = {}
        function ak.New(al,am)
            local an = {__type="Dropdown", Title=am.Title or"Dropdown", Values=am.Values or{}, Value=am.Value, Callback=am.Callback or function()end}
            
            local Core = Atunid.load('Core')
            local New = Core.New
            local Tween = Core.Tween
            
            local ao = New("TextButton", {
                Size = UDim2.new(1, 0, 0, 40),
                BackgroundTransparency = 1,
                Text = "",
                Parent = am.Parent
            })
            
            local ap = Core.NewRoundFrame(am.Window.ElementConfig.UICorner, "Pill", {
                Size = UDim2.new(1, 0, 1, 0),
                ThemeTag = {ImageColor3 = "ElementBackground"},
                ImageTransparency = 0.95,
                Parent = ao
            })
            
            local aq = New("TextLabel", {
                Text = an.Title,
                TextSize = 16,
                FontFace = Font.new(Core.Font, Enum.FontWeight.SemiBold),
                ThemeTag = {TextColor3 = "Text"},
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -80, 1, 0),
                Position = UDim2.new(0, 10, 0, 0),
                TextXAlignment = "Left"
            })
            
            local ar = New("TextLabel", {
                Text = an.Value or "--",
                TextSize = 14,
                FontFace = Font.new(Core.Font, Enum.FontWeight.Medium),
                ThemeTag = {TextColor3 = "Text"},
                BackgroundTransparency = 1,
                Size = UDim2.new(0, 60, 1, 0),
                Position = UDim2.new(1, -70, 0, 0),
                TextXAlignment = "Right",
                TextTransparency = 0.4
            })
            
            local as = New("ImageLabel", {
                Image = Core.Icon("chevron-down")[1],
                ImageRectSize = Core.Icon("chevron-down")[2].ImageRectSize,
                ImageRectOffset = Core.Icon("chevron-down")[2].ImageRectPosition,
                Size = UDim2.new(0, 16, 0, 16),
                Position = UDim2.new(1, -20, 0.5, 0),
                AnchorPoint = Vector2.new(1, 0.5),
                ThemeTag = {ImageColor3 = "Icon"},
                ImageTransparency = 0.4,
                BackgroundTransparency = 1,
                Parent = ap
            })
            
            an.ElementFrame = ao
            return an.__type, an
        end
        return ak
    end

    function Atunid.LabelElement()
        local ac = {}
        function ac.New(ad,ae)
            local af = {__type="Label", Title=ae.Title or"Label", Desc=ae.Desc}
            
            local Core = Atunid.load('Core')
            local New = Core.New
            
            local ag = New("Frame", {
                Size = UDim2.new(1, 0, 0, ae.Desc and 50 or 30),
                BackgroundTransparency = 1,
                Parent = ae.Parent
            })
            
            local ah = New("TextLabel", {
                Text = af.Title,
                TextSize = 16,
                FontFace = Font.new(Core.Font, Enum.FontWeight.SemiBold),
                ThemeTag = {TextColor3 = "Text"},
                BackgroundTransparency = 1,
                Size = UDim2.new(1, -10, 0, 20),
                Position = UDim2.new(0, 10, 0, 5),
                TextXAlignment = "Left"
            })
            
            if ae.Desc then
                local ai = New("TextLabel", {
                    Text = ae.Desc,
                    TextSize = 14,
                    FontFace = Font.new(Core.Font, Enum.FontWeight.Regular),
                    ThemeTag = {TextColor3 = "Text"},
                    BackgroundTransparency = 1,
                    Size = UDim2.new(1, -10, 0, 20),
                    Position = UDim2.new(0, 10, 0, 25),
                    TextXAlignment = "Left",
                    TextTransparency = 0.4
                })
            end
            
            af.ElementFrame = ag
            return af.__type, af
        end
        return ac
    end
end

return Atunid
